---
title: 2020å¹´9æœˆ2é€± Weekly Report
slug: 2020-09-2w-weekly-report
date: 2020-09-14T07:58:21+09:00
thumbnailImage: images/cover/weekly-report.jpg
categories:
  - weekly-report
tags:
  - typescript
  - idea
  - golang
  - vscode
  - slack
  - cobra
  - viper
  - zerolog
  - angular
---

ğŸ“° **Topics**

Goè¨€èªã«é›†ä¸­ã—ãŸ1é€±é–“ã§ã—ãŸã€‚  
Project Referencesã‚„Angularãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãªã©TypeScriptã«ã‚‚å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚

<!--more-->

{{<cimg "weekly-report.jpg">}}

<!--toc-->


æ›¸ã„ãŸã“ã¨
----------

### ã€TypeScriptã€‘ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ v3.0

TypeScript v3.0ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ã¾ã¨ã‚çµ‚ã‚ã‚Šã¾ã—ãŸã€‚

{{<summary "https://mimizou.mamansoft.net/it_note/languages/typescript/releases/2.9/">}}

Project Referencesã®ç†è§£ã«è‹¦ã—ã¿ã¾ã—ãŸã€‚  
å…ˆã«ãƒ“ãƒ«ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰å…¥ã‚‹ã“ã¨ã§ãƒ¡ãƒªãƒƒãƒˆã‚’ã™ã‚“ãªã‚Šç†è§£ã§ããŸã®ã§ã€æ§‹æˆã‚’ãã®ã‚ˆã†ã«å¤‰ãˆã¦ã„ã¾ã™ã€‚

### ã€IDEAã€‘ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢

ä»¥å‰åŸ·ç­†ã—ãŸã€å¿…ãšä½¿ã£ã¦ã»ã—ã„IntelliJ IDEAã®Actionã€ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚

{{<summary "https://blog.mamansoft.net/2019/05/18/requirements-idea-actions/#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%86%85%E3%81%AE%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB%E6%A4%9C%E7%B4%A2">}}

ã“ã‚“ãªæ©Ÿèƒ½ã§ã™ã€‚

{{<himg "https://blog.mamansoft.net/2019/05/18/requirements-idea-actions/resources/20190518_13.gif">}}

åå‰ã ã‘åˆ†ã‹ã‚‹ã‘ã©ã‚·ãƒ³ãƒœãƒ«ã®ç¨®é¡ãŒåˆ†ã‹ã‚‰ãªã„ã¨ãã«ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚


å­¦ã‚“ã ã“ã¨
----------

### ã€Golangã€‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªGoå®Œå…¨å…¥é–€

tenntennã•ã‚“ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹Goè¨€èªã®å…¥é–€ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’èª­ã¿å§‹ã‚ã¾ã—ãŸã€‚

{{<summary "https://docs.google.com/presentation/d/1RVx8oeIMAWxbB7ZP2IcgZXnbZokjCmTUca-AbIpORGk/edit">}}


#### 1. Goã«è§¦ã‚Œã‚‹

ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å‘¨ã‚Šã¯ç‰¹ã«æœ€å‰ç·šã®æ–¹ã«ã‚ˆã‚‹æƒ…å ±ãŒé‡å®ã—ã¾ã™ã€‚

{{<summary "https://docs.google.com/presentation/d/1Z5b5fIA5vqVII7YoIc4IesKuPWNtcU00cWgW08gfdjg/edit">}}

#### 2. åŸºæœ¬æ§‹æ–‡

ã“ã¡ã‚‰ã¯ä»¥å‰ã®æ€ã„å‡ºã—..ã¨ã„ã†æ„Ÿã˜ã§èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚

{{<summary "https://docs.google.com/presentation/d/1CIMDenDLZ7NPNgzmfbCNH_W3dYjaTEBdUYfUuXXuMHk/edit">}}

### ã€TypeScriptã€‘ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ã«ã¯VS Codeã‚’ä½¿ã£ãŸæ–¹ãŒã„ã„

è‡ªåˆ†ã®çŸ¥è­˜å‘ä¸Šã‚’ç›®çš„ã¨ã—ã¦ã€éå»ã®TypeScriptãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚

{{<summary "https://mimizou.mamansoft.net/it_note/languages/typescript/releases/">}}

ä»Šã¾ã§IntelliJ IDEAã¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å‹•ä½œç¢ºèªã‚’ã—ã¦ã„ã¾ã—ãŸãŒã€v3.1ã®`Mapped types on tuples and arrays`ã«é–¢ã™ã‚‹å‹•ä½œã‚’ç¢ºèªã—ã‚ˆã†ã¨ã—ãŸã¨ããƒãƒã‚Šã¾ã—ãŸã€‚ã€‚  
ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã¨IntelliJ IDEAã®è£œå®Œå†…å®¹ã¨ãŒå™›ã¿åˆã£ã¦ã„ãªã‹ã£ãŸã®ã§ã™ã€‚

{{<summary "https://mimizou.mamansoft.net/it_note/languages/typescript/releases/3.1/#mapped-types-on-tuples-and-arrays">}}

VS Codeã‚’ä½¿ã£ã¦ç¢ºèªã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ã“ã®å•é¡Œã¯è§£æ±ºã—ã¾ã—ãŸã€‚  
ã‚„ã¯ã‚Šã€ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®ã‚ˆã†ãªç´°ã‹ãªå†…å®¹ã‚’ç¢ºèªã™ã‚‹ã¨ãã¯VS CodeãŒè‰¯ã•ãã†ã§ã™ã€‚  
é–‹ç™ºå…ƒãŒåŒä¸€ã§ã‚ã‚‹å¼·ã¿ã§ã™ã­ã€‚

â€» IntelliJ IDEAã‚‚Language Serverä½¿ã£ã¦ã„ã‚‹ã®ã§å•é¡Œãªã„æ°—ã¯ã™ã‚‹ã®ã§ã™ãŒ..ğŸ¤”


èª­ã‚“ã ã“ã¨/è´ã„ãŸã“ã¨
---------------------

### ãƒãƒ¼ãƒˆï¼ˆã¿ã‚“ãªæ¥½ã—ãŸã„ï¼‰ï¼šè¡Œå‹•çµŒæ¸ˆå­¦ã¨ãƒ‡ã‚¶ã‚¤ãƒ³30ï½œã‚¸ãƒã‚¿ãƒ­

ãƒãƒ¼ãƒˆæˆ¦ç•¥ã€ç¿’æ…£åŒ–æˆ¦ç•¥ã€æ„è­˜åŒ–æˆ¦ç•¥ã¨åä»˜ã‘ã‚‰ã‚ŒãŸ3ã¤ã®æˆ¦ç•¥ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã‚‹è¨˜äº‹ã€‚

{{<summary "https://note.com/designstrategy/n/n0adc9d52aecc">}}

ç‰¹ã«å¤§äº‹ã ã¨æ€ã£ãŸã®ãŒä»¥ä¸‹ã€‚

> ãŸã ã—æ³¨æ„ãŒï¼‘ã¤ã‚ã‚Šã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ¥½ãƒãƒ³ãªã‚‚ã®ã«é«˜é¡ãªãŠé‡‘ã‚’æ”¯æ‰•ã†ã‚ã‘ã§ã¯ãªãã€ã‚ãã¾ã§ã‚‚åŒã˜ä¾¡æ ¼å¸¯ã®ä¸­ã§æ¥½ãƒãƒ³ãªæ–¹ã‚’é¸ã³ã¾ã™ã€‚

æ¥½ãƒãƒ³ã§ã‚ã‚‹ã“ã¨ã¯ãŠé‡‘ã‚’æ‰•ã†ç†ç”±ã«ã¯ãªã‚‰ãªã„ã¨ã„ã†ã“ã¨ã€‚  
ä¾¡å€¤ãŒæä¾›ã§ãã‚‹ã“ã¨ã¯å¤§å‰æã§ã™ã­ã€‚

> ï¼“ã¤ç›®ã¯ã€é¢å€’ãªã‚‚ã®ã‚’æ„›ãã†ã¨ã„ã†æ–‡åŒ–ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚è»ŠãŒæ™®åŠã™ã‚‹ã¨ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãŒäººæ°—ã«ãªã£ãŸã‚Šã€å®¶é›»ãŒæ™®åŠã™ã‚‹ã¨ã‚­ãƒ£ãƒ³ãƒ—ãŒäººæ°—ã«ãªã£ãŸã‚Šã€ã‚¹ãƒãƒ›ãŒé€²åŒ–ã™ã‚‹ã¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚«ãƒ¡ãƒ©æ„›å¥½å®¶ãŒå¢—ãˆãŸã‚Šã€‚ã“ã®è¦³ç‚¹ã¯ã€æ„å‘³ã®ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã€ã«ã‚‚ã¤ãªãŒã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã“ã®ç™ºæƒ³ã¯é¢ç™½ã„ã§ã™ã­ã€‚ãŸã—ã‹ã«ã€‚

### ä»•äº‹ãŒã‚µã‚¯ã‚µã‚¯é€²ã‚€ï¼ã€Œã‚¿ã‚¹ã‚¯ç®¡ç†ä¸Šæ‰‹ã«ãªã‚‹ãŸã‚ã®4ã¤ã®æ¥µæ„ã€

ã‚¿ã‚¹ã‚¯ç®¡ç†ã«ãŠã‘ã‚‹éå¸¸ã«é‡è¦ãªãƒã‚¤ãƒ³ãƒˆãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

{{<summary "https://limo.media/articles/-/19173">}}

ã€Todoãƒªã‚¹ãƒˆã¯æ„å‘³ãŒç„¡ã„ã€ã¨ã„ã†æ–¹.. ä½¿ã„æ–¹ã‚’è¦‹ç›´ã™ã ã‘ã§ä¾¡å€¤ã‚‚å¤‰ã‚ã‚Šã¾ã™ã®ã§ã‚ªã‚¹ã‚¹ãƒ¡ã€‚

### ã€TypeScriptã€‘TypeScript 4.0: What Iâ€™m most excited about

TypeScriptã®ä¸»ãªå¤‰æ›´ç‚¹ã«ã¤ã„ã¦ã€åˆ©ç”¨è€…ç›®ç·šã§ã‚¢ãƒ„ãèªã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

{{<summary "https://blog.bitsrc.io/typescript-4-0-what-im-most-excited-about-4ee89693e02e">}}

å…¬å¼ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚ˆã‚Šæ„Ÿæƒ…ç§»å…¥ã—ã‚„ã™ãã‚ªã‚¹ã‚¹ãƒ¡ã€‚


è©¦ã—ãŸã“ã¨
----------

### ã€Golangã€‘Cobra

ä»•äº‹ã§Goè¨€èªã‚’ä½¿ã£ãŸCLIãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã“ã¨ã«ãªã£ãŸã®ã§ã€CLIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚  
ãã®çµæœã€CobraãŒè‰¯ã•ãã†ã¨ã„ã†ã“ã¨ã«ã€‚

{{<summary "https://github.com/spf13/cobra">}}

#### é¸ã‚“ã ç†ç”±

* æ¬²ã—ã„æ©Ÿèƒ½ãŒä¸€é€šã‚Šã‚ã‚‹ (ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã€Usageã®è¡¨ç¤ºã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
* ä½¿ã„æ–¹ãŒç›´æ„Ÿçš„
* ã‚¹ã‚¿ãƒ¼ãŒå¤šã„(2ä¸‡å¼±)
* ãƒ¡ãƒ³ãƒ†ã•ã‚Œã¦ã„ã‚‹å½¢è·¡ãŒã‚ã‚‹(1ãƒ¶æœˆä»¥å†…)
* åã ãŸã‚‹ãƒ„ãƒ¼ãƒ«ã§[åˆ©ç”¨å®Ÿç¸¾]ãŒã‚ã‚‹(Docker, GitHub, Hugo, Kubernetes.. etc)

[åˆ©ç”¨å®Ÿç¸¾]: https://github.com/spf13/cobra/blob/master/projects_using_cobra.md

#### cobraã®CLIã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

cobraã®CLIã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ãŸã‚ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```
go get -u github.com/spf13/cobra/cobra@v1.0.0
```

{{<why "ãªãœãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã®ã‹?">}}
2020-09-09ç¾åœ¨ã§ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³æœªæŒ‡å®šã ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ãŸã‚ã§ã™ã€‚

```
$ go get -u github.com/spf13/cobra/cobra
go: github.com/spf13/cobra/cobra upgrade => v0.0.0-20200826151851-02a0d2fbc9e6
go get github.com/spf13/cobra/cobra: ambiguous import: found package github.com/spf13/cobra/cobra in multiple modules:
    github.com/spf13/cobra v1.0.0 (/Users/jimbrannlund/go/pkg/mod/github.com/spf13/cobra@v1.0.0/cobra)
    github.com/spf13/cobra/cobra v0.0.0-20200826151851-02a0d2fbc9e6 (/Users/jimbrannlund/go/pkg/mod/github.com/spf13/cobra/cobra@v0.0.0-20200826151851-02a0d2fbc9e6)
```

Issueã§ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã®å›é¿ç­–ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

{{<github "#1215 'ambiguous import'-error when trying to 'go get' cobra" "https://github.com/spf13/cobra/issues/1215">}}
{{</why>}}

#### cobraã§CLIãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹

cobraã®CLIã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§ã€é››å½¢ã‚’ã™ãã«ä½œæˆã§ãã¾ã™ã€‚  
ä»¥ä¸‹ã‚’å‚è€ƒã«é€²ã‚ã¾ã™ã€‚

{{<summary "https://github.com/spf13/cobra/blob/master/cobra/README.md">}}

`init`ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚  
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯é©å½“ã«`work/sandbox/golang/cobra-use`ã¨ã—ã¾ã—ãŸã€‚

```
$ cobra init --pkg-name work/sandbox/golang/cobra-use cobra-use
Your Cobra applicaton is ready at
C:\Users\syoum\work\sandbox\golang/cobra-use
```

ä½œæˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ§‹æˆã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

```
ï„•  ./cobra-use
â”œâ”€â”€ ï„•  cmd
â”‚  â””â”€â”€ î˜¦  root.go
â”œâ”€â”€ ï…›  LICENSE
â””â”€â”€ î˜¦  main.go
```

`cobra-use`ã«ç§»å‹•ã—ã¦Moduleã®åˆæœŸåŒ–ã‚’ã—ã¾ã™ã€‚

```
$ go mod init work/sandbox/golang/cobra-use
go: creating new go.mod: module work/sandbox/golang/cobra-use
```

ãã—ã¦cobraã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã«è¨­å®šã—ã¾ã™ã€‚

```
go get -u github.com/spf13/cobra/cobra@v1.0.0
```

`main.go`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```
$ go run main.go
A longer description that spans multiple lines and likely contains
examples and usage of using your application. For example:

Cobra is a CLI library for Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.
```

#### showã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã™ã‚‹

`show --message ã»ã’`ã§ã€ã»ã’ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚  
`cobra add`ã§ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

```
$ cobra add show
show created at C:\Users\syoum\work\sandbox\golang\cobra-use
```

`cmd`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«`show.go`ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

```
ï„•  ./cobra-use
â”œâ”€â”€ ï„•  cmd
â”‚  â”œâ”€â”€ î˜¦  root.go
â”‚  â””â”€â”€ î˜¦  show.go
â”œâ”€â”€ ï…›  go.mod
â”œâ”€â”€ ï…›  go.sum
â”œâ”€â”€ ï…›  LICENSE
â””â”€â”€ î˜¦  main.go
```

`show.go`ã®ä¸­èº«ã‹ã‚‰è‹±èªã‚³ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆã§è£œè¶³ã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

```go
package cmd

import (
	"fmt"

	"github.com/spf13/cobra"
)

var showCmd = &cobra.Command{
	Use:   "show",
	Short: "showã‚³ãƒãƒ³ãƒ‰ã®çŸ­ã„èª¬æ˜",
	Long: `showã‚³ãƒãƒ³ãƒ‰ã®é•·ã„èª¬æ˜`,
	Run: func(cmd *cobra.Command, args []string) {
		// ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®æŒ™å‹•ã‚’æ›¸ã
		fmt.Println("show called")
	},
}

// ã‚³ãƒãƒ³ãƒ‰åˆæœŸåŒ–å‡¦ç†
func init() {
	// rootã«å¯¾ã—ã¦showã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ = main command
	rootCmd.AddCommand(showCmd)

	// ã“ã®ã‚³ãƒãƒ³ãƒ‰ãŠã‚ˆã³å…¨ã¦ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§åˆ©ç”¨ã§ãã‚‹ãƒ•ãƒ©ã‚°ã¯PersistentFlag
	// showCmd.PersistentFlags().String("foo", "", "A help for foo")

	// ã“ã®ã‚³ãƒãƒ³ãƒ‰ã ã‘ã§åˆ©ç”¨ã§ãã‚‹ãƒ•ãƒ©ã‚°ã¯LocalFlag
	// showCmd.Flags().BoolP("toggle", "t", false, "Help message for toggle")
}
```

`show --message <message>`ã®å®Ÿè£…ã‚’ã—ã¦ã¿ã¾ã™ã€‚

```go
package cmd

import (
	"fmt"

	"github.com/spf13/cobra"
)

// ãƒ•ãƒ©ã‚°ã§å‚ç…§ã™ã‚‹å¤‰æ•°ã‚’å®£è¨€
var message string

var showCmd = &cobra.Command{
	Use:   "show",
	Short: "showã‚³ãƒãƒ³ãƒ‰ã®çŸ­ã„èª¬æ˜",
	Long:  `showã‚³ãƒãƒ³ãƒ‰ã®é•·ã„èª¬æ˜`,
	Run: func(cmd *cobra.Command, args []string) {
		// messageã‚’è¡¨ç¤º. ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãŸå€¤ã¯funcã®å¼•æ•°ã«å…¥ã£ã¦ãã‚‹ã‚ã‘ã§ãªã„
		fmt.Println(message)
	},
}

// ã‚³ãƒãƒ³ãƒ‰åˆæœŸåŒ–å‡¦ç†
func init() {
	// rootã«å¯¾ã—ã¦showã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ = main command
	rootCmd.AddCommand(showCmd)

	// -m / --message ã§æŒ‡å®šã—ãŸæ–‡å­—åˆ—ãŒ messageå¤‰æ•° ã«å…¥ã‚‹.
	showCmd.Flags().StringVarP(&message, "message", "m", "", "è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (required)")
	// ã“ã®ãƒ•ãƒ©ã‚°ã¯å¿…é ˆ (ä»»æ„ã®å ´åˆã¯â†‘ã®StringVarPã§valueã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹)
	_ = showCmd.MarkFlagRequired("message")
}
```

#### ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹

ãƒ“ãƒ«ãƒ‰ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚ã›ã£ã‹ããªã®ã§exeã§ã€‚  
ãƒ‰ã‚µã‚¯ã‚µã«ç´›ã‚Œã¦`root.go`ã‚‚å°‘ã—ã„ã˜ã‚Šã¾ã—ãŸã€‚

```terminal
$ go build

$ .\cobra-use.exe
cobraã‚’ä½¿ã£ãŸCLIã®å®Ÿé¨“ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

Usage:
  cobra-use [command]

Available Commands:
  help        Help about any command
  show        showã‚³ãƒãƒ³ãƒ‰ã®çŸ­ã„èª¬æ˜

Flags:
      --config string   config file (default is $HOME/.cobra-use.yaml)
  -h, --help            help for cobra-use
  -t, --toggle          Help message for toggle

Use "cobra-use [command] --help" for more information about a command.


$ .\cobra-use.exe show -h
showã‚³ãƒãƒ³ãƒ‰ã®é•·ã„èª¬æ˜

Usage:
  cobra-use show [flags]

Flags:
  -h, --help             help for show
  -m, --message string   è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (required)

Global Flags:
      --config string   config file (default is $HOME/.cobra-use.yaml)


$ .\cobra-use.exe show --message ã»ã’
ã»ã’


$ .\cobra-use.exe show -m ã»ã’
ã»ã’


$ .\cobra-use.exe show --hoge ã»ã’
Error: unknown flag: --hoge
Usage:
  cobra-use show [flags]

Flags:
  -h, --help             help for show
  -m, --message string   è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (required)

Global Flags:
      --config string   config file (default is $HOME/.cobra-use.yaml)

unknown flag: --hoge


$ .\cobra-use.exe show
Error: required flag(s) "message" not set
Usage:
  cobra-use show [flags]

Flags:
  -h, --help             help for show
  -m, --message string   è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (required)

Global Flags:
      --config string   config file (default is $HOME/.cobra-use.yaml)

required flag(s) "message" not set
```

ä»–ã«ã‚‚ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚„è‰²ã€…ãªæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™..ãŒã‚­ãƒªãŒãªã„ã®ã§ä»Šæ—¥ã¯ã“ã®è¾ºã§ã€‚

### ã€Golangã€‘zerolog

Goè¨€èªã®æ¨™æº–ãƒ­ã‚¬ãƒ¼ãŒæ©Ÿèƒ½ä¸è¶³ãªã®ã§ã€`zerolog`ã‚’ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚

{{<summary "https://github.com/rs/zerolog">}}

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯JSONå½¢å¼ã®ãƒ­ã‚°ãŒç”Ÿæˆã•ã‚Œã‚‹ãŸã‚è§£æã«å‘ã„ã¦ã„ã¾ã™ã€‚

```go
package main

import (
	"github.com/rs/zerolog/log"
)

func main() {
	log.Info().Msg("INFO")
	log.Error().Str("Reason", "unknown").Msg("ERROR")
}
```

`å‡ºåŠ›çµæœ`
```
{"level":"info","time":"2020-09-12T14:00:39+09:00","message":"INFO"}
{"level":"error","Reason":"unknown","time":"2020-09-12T14:00:39+09:00","message":"ERROR"}
```

#### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã®è¨­å®š

`SetGlobalLevel`ã§ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’WARNã«ã™ã‚‹ã¨INFOãƒ­ã‚°ã¯å‡ºåŠ›ã•ã‚Œãªããªã‚Šã¾ã™ã€‚

```go
package main

import (
	"github.com/rs/zerolog"
	"github.com/rs/zerolog/log"
)

func main() {
	zerolog.SetGlobalLevel(zerolog.WarnLevel)

	log.Info().Msg("INFO")
	log.Error().Str("Reason", "unknown").Msg("ERROR")
}
```

`å‡ºåŠ›çµæœ`
```
{"level":"error","Reason":"unknown","time":"2020-09-12T14:03:21+09:00","message":"ERROR"}
```

#### äººé–“ã«è¦‹ã‚„ã™ã„å‡ºåŠ›çµæœã«ã™ã‚‹

`ConsoleWrite`ã‚’ä½¿ã†ã¨CLIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å„ªã—ã„å‡ºåŠ›ã«ãªã‚Šã¾ã™ã€‚

```go
package main

import (
	"github.com/rs/zerolog"
	"github.com/rs/zerolog/log"
	"os"
)

func main() {
	// TimeFormatã‚’æŒ‡å®šã—ãªã„ã¨ `5:09AM` ã®ã‚ˆã†ã«ãªã‚Šæ—¥æ™‚ã¨ç§’ãŒè¡¨ç¤ºã•ã‚Œãªã„
	log.Logger = log.Output(zerolog.ConsoleWriter{
		Out:        os.Stderr,
		TimeFormat: "2006/1/2 15:04:05",
	})

	log.Info().Msg("INFO")
	log.Error().Str("Reason", "unknown").Msg("ERROR")
}
```

{{<himg "resources/b21f196d.png">}}



### ã€Golangã€‘Slackã«é€šçŸ¥ã™ã‚‹

Incoming Webhook URLã‚’ä½¿ã£ã¦Slackã«é€šçŸ¥ã™ã‚‹æ–¹æ³•ã§ã™ã€‚  

#### Slackã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ

`Create New App`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

{{<summary "https://api.slack.com/apps">}}

Featureã¨ã—ã¦Incoming Webhooksã®è¨­å®šã‚’ã—ã¾ã™ã€‚  
ãã“ã§å–å¾—ã§ãã‚‹Incoming Webhook URLã‚’ã‚ã¨ã§ä½¿ã„ã¾ã™ã€‚

#### Slackã§é€šçŸ¥å†…å®¹ã‚’ä½œã‚‹

UIã¯Block Kit Builderã‚’ä½¿ã£ã¦ãƒ©ã‚¯ãƒ©ã‚¯ç·¨é›†ã§ãã¾ã™ã€‚

{{<summary "https://app.slack.com/block-kit-builder">}}

ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰é››å½¢ã‚’æŒ¿å…¥ã—ã€JSONã‚’ã„ã˜ã£ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ã€‚  
ä»Šå›ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

{{<himg "resources/487f07ad.jpeg">}}

JSONã¯ä»¥ä¸‹ã€‚

```json
{
	"blocks": [
		{
			"type": "section",
			"text": {
				"type": "mrkdwn",
				"text": "ã¦ã™ã¨ã§ã™"
			},
			"accessory": {
				"type": "image",
				"image_url": "https://avatars1.githubusercontent.com/u/9500018",
				"alt_text": "ã¿ã¿ãã†"
			}
		}
	]
}
```

#### Goã®å®Ÿè£…

`slack-go/slack`ã‚’ä½¿ã„ã¾ã™ã€‚

{{<summary "https://github.com/slack-go/slack">}}

Slackã®ä»•æ§˜ã‚’çŸ¥ã£ã¦ã„ã‚‹ãªã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚Œã°åˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚

{{<github "https://github.com/slack-go/slack/blob/master/webhooks.go">}}

å…ˆã»ã©ä½œæˆã—ãŸé€šçŸ¥å†…å®¹ã‚’ã‚³ãƒ¼ãƒ‰ã«ã—ã¦ã¿ã¾ã—ãŸã€‚

```go
package main

import "github.com/slack-go/slack"

func main() {
	const URL = "TODO: Incoming Webhook URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„"
	const IMAGE_URL = "https://avatars1.githubusercontent.com/u/9500018"

	slack.PostWebhook(URL, &slack.WebhookMessage{
		Blocks: &slack.Blocks{
			BlockSet: []slack.Block{
				slack.NewSectionBlock(
					slack.NewTextBlockObject("mrkdwn", "ã¦ã™ã¨ã§ã™", false, false),
					nil,
					slack.NewAccessory(slack.NewImageBlockElement(IMAGE_URL, "ã¿ã¿ãã†")),
				),
			},
		},
	})
}
```

é€šçŸ¥ã™ã‚‹ã ã‘ãªã‚‰ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚  
Factoryã‚’ä½¿ã†ã¨ã“ã‚ã¨ä½¿ã‚ãªã„ã¨ã“ã‚ãŒã‚ã‚Šã€éšå±¤ã‚‚æ·±ã„ã®ã§åˆã‚ã¯æˆ¸æƒ‘ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

å®Ÿè¡Œã™ã‚‹ã¨Slackã«é€šçŸ¥ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

{{<himg "resources/6dd87485.png">}}

ã‚¦ãƒ›! ğŸ¦

### ã€Angularã€‘Angular8ã‹ã‚‰9ã¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—

Angular8.2ã‹ã‚‰9.1ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸã€‚  
ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚  

{{<summary "https://update.angular.io/">}}

{{<file "ãƒãƒ¼ã‚¸ãƒ§ãƒ³">}}
```
$ ng version
Angular CLI: 8.3.29
Node: 12.18.3
OS: win32 x64
Angular: 8.2.14
... animations, common, compiler, compiler-cli, core, forms
... language-service, platform-browser, platform-browser-dynamic
... router

Package                           Version
-----------------------------------------------------------
@angular-devkit/architect         0.803.29
@angular-devkit/build-angular     0.803.29
@angular-devkit/build-optimizer   0.803.29
@angular-devkit/build-webpack     0.803.29
@angular-devkit/core              8.3.29
@angular-devkit/schematics        8.3.29
@angular/cdk                      8.2.3
@angular/cli                      8.3.29
@angular/http                     7.2.16
@angular/material                 8.2.3
@angular/platform-server          2.0.0-rc.6
@ngtools/webpack                  8.3.29
@schematics/angular               8.3.29
@schematics/update                0.803.29
rxjs                              6.6.3
typescript                        3.5.3
webpack                           4.39.2
```
{{</file>}}

#### Before Updating

å®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã®èª¬æ˜ã§ã™ã€‚äº‹å‰ä½œæ¥­ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚

> Instead of importing from @angular/material, you should import deeply from the specific component. E.g. @angular/material/button. ng update will do this automatically for you.

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å€‹åˆ¥importã™ã‚‹ã‚ˆã†ã«ãªã‚‹ãã†ã§ã™ã€‚  
ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªé¢¨ã«ã€‚

```diff
- import { MatDialogRef, MatSnackBar } from '@angular/material';
+ import { MatDialogRef } from '@angular/material/dialog';
+ import { MatSnackBar } from '@angular/material/snack-bar';
```

> For lazy loaded modules via the router, make sure you are using dynamic imports. Importing via string is removed in v9. ng update should take care of this automatically. Learn more on angular.io.

ãƒ«ãƒ¼ã‚¿ãƒ¼çµŒç”±ã®é…å»¶èª­è¾¼ã¨dynamic importå‘¨ã‚Šã§å½±éŸ¿ã‚ã‚Šãã†ã§ã™ãŒã€ä½¿ã£ã¦ã„ãªã„ã¨æ€ã†ã®ã§åˆ†ã‹ã‚‰ãš..ã€‚

#### During the Update

> Make sure you are using Node 10.13 or later.

12.18.3ãªã®ã§å•é¡Œãªã—ã€‚

> Run `ng update @angular/core@8 @angular/cli@8` in your workspace directory to update to the latest 8.x version of @angular/core and @angular/cli and commit these changes.

coreã¨CLIã‚’æœ€æ–°ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™ã€‚

```
ng update @angular/core@8 @angular/cli@8
git commit -m "Update angular@8"
```

> Run `ng update @angular/core@9 @angular/cli@9` which should bring you to version 9 of Angular.

v9ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚

{{<file "ng update @angular/core@9 @angular/cli@9">}}
```
$ ng update @angular/core@9 @angular/cli@9
Fetching dependency metadata from registry...
                  Package "@angular/compiler-cli" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@angular/animations" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@angular/common" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@ng-select/ng-select" has an incompatible peer dependency to "@angular/common" (requires ">=6.0.0 <8.0.0" (extended), would install "9.1.12").
                  Package "@angular/compiler" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "angular2-toaster" has an incompatible peer dependency to "@angular/compiler" (requires "^7.0.0" (extended), would install "9.1.12").
                  Package "@angular/core" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@angular/http" has an incompatible peer dependency to "@angular/core" (requires "7.2.16" (extended), would install "9.1.12").
                  Package "@angular/forms" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@ng-select/ng-select" has an incompatible peer dependency to "@angular/forms" (requires ">=6.0.0 <8.0.0" (extended), would install "9.1.12").
                  Package "@angular/platform-browser" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@angular/http" has an incompatible peer dependency to "@angular/platform-browser" (requires "7.2.16" (extended), would install "9.1.12").
                  Package "@angular/platform-browser-dynamic" has a missing peer dependency of "tslib" @ "^1.10.0".
                  Package "@angular/router" has a missing peer dependency of "tslib" @ "^1.10.0".
Ã— Migration failed: Incompatible peer dependencies found.
Peer dependency warnings when installing dependencies means that those dependencies might not work correctly together.
You can use the '--force' option to ignore incompatible peer dependencies and instead address these warnings later.
  See "C:\Users\syoum\AppData\Local\Temp\ng-hyJ5Ia\angular-errors.log" for further details.
```
{{</file>}}

peer dependenciesãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ãŸã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  
ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ãªã„ã¨2ç³»ãŒå…¥ã£ã¦ä¾å­˜é–¢ä¿‚ã‚’æº€ãŸã•ãªã„ã®ã§æ³¨æ„ã€‚

```
npm i tslib@1
npm i @ng-select/ng-select@4
npm i angular2-toaster@8
```

`@angular/http`ã¯éæ¨å¥¨ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚

{{<refer "https://www.npmjs.com/package/@angular/http">}}

```
npm uninstall @angular/http
```

`angular2-markdown`ã¯æ›´æ–°ãŒæ­¢ã¾ã£ã¦ã„ã¾ã™ã­..ã“ã‚Œã¯ç„¡è¦–ã—ã¦ã‚‚ã„ã„ã‹ãª..ã€‚

{{<summary "https://www.npmjs.com/package/angular2-markdown">}}

`ng update --force`ã‚’ä½¿ã£ã¦å¼·è¡Œçªç ´ã—ã¾ã™ã€‚

{{<file "ng update @angular/core@9 @angular/cli@9 --force">}}
```
$ ng update @angular/core@9 @angular/cli@9 --force
Your global Angular CLI version (10.1.0) is greater than your local
version (8.3.29). The local Angular CLI version is used.

To disable this warning use "ng config -g cli.warnings.versionMismatch false".
The installed Angular CLI version is older than the latest stable version.
Installing a temporary version to perform the update.
Installing packages for tooling via npm.
Installed packages for tooling via npm.
Using package manager: 'npm'
Collecting installed dependencies...
Found 68 dependencies.
Fetching dependency metadata from registry...
                  Package "angular2-markdown" has an incompatible peer dependency to "@angular/core" (requires "^2.4.0 || ^4.0.3 || ^5.0.0" (extended), would install "9.1.12").
    Updating package.json with dependency @angular-devkit/build-angular @ "0.901.12" (was "0.803.29")...
    Updating package.json with dependency @angular/cli @ "9.1.12" (was "8.3.29")...
    Updating package.json with dependency @angular/compiler-cli @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/language-service @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency typescript @ "3.8.3" (was "3.5.3")...
    Updating package.json with dependency @angular/animations @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/common @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/compiler @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/core @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/forms @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/platform-browser @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/platform-browser-dynamic @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency @angular/router @ "9.1.12" (was "8.2.14")...
    Updating package.json with dependency zone.js @ "0.10.3" (was "0.9.1")...
UPDATE package.json (2667 bytes)
âˆš Packages installed successfully.
** Executing migrations of package '@angular/cli' **

> Angular Workspace migration.
  Update an Angular CLI workspace to version 9.
UPDATE package.json (2669 bytes)
âˆš Packages installed successfully.
  Migration completed.

> Lazy loading syntax migration.
  Update lazy loading syntax to use dynamic imports.
  Migration completed.

> Replace deprecated 'styleext' and 'spec' Angular schematic options.
UPDATE angular.json (3540 bytes)
  Migration completed.

** Executing migrations of package '@angular/core' **

> Static flag migration.
  Removes the `static` flag from dynamic queries.
  As of Angular 9, the "static" flag defaults to false and is no longer required for your view and content queries.
  Read more about this here: https://v9.angular.io/guide/migration-dynamic-flag
UPDATE src/app/components/detail-dialog/detail-dialog.component.ts (21092 bytes)
UPDATE src/app/components/summary/summary.component.ts (26444 bytes)
UPDATE src/app/components/markdown-inline-editor/markdown-inline-editor.component.ts (4034 bytes)
  Migration completed.

> Missing @Injectable and incomplete provider definition migration.
  In Angular 9, enforcement of @Injectable decorators for DI is a bit stricter and incomplete provider definitions behave differently.
  Read more about this here: https://v9.angular.io/guide/migration-injectable
UPDATE src/app/services/monaco-editor-loader.ts (1487 bytes)
  Migration completed.

> ModuleWithProviders migration.
  In Angular 9, the ModuleWithProviders type without a generic has been deprecated.
  This migration adds the generic where it is missing.
  Read more about this here: https://v9.angular.io/guide/migration-module-with-providers
  Migration completed.

> Renderer to Renderer2 migration.
  As of Angular 9, the Renderer class is no longer available.
  Renderer2 should be used instead.
  Read more about this here: https://v9.angular.io/guide/migration-renderer
  Migration completed.

> Undecorated classes with decorated fields migration.
  As of Angular 9, it is no longer supported to have Angular field decorators on a class that does not have an Angular decorator.
  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes
  Migration completed.

> Undecorated classes with DI migration.
  As of Angular 9, it is no longer supported to use Angular DI on a class that does not have an Angular decorator.
  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes

    This migration uses the Angular compiler internally and therefore projects that no longer build successfully after the update cannot run the migration. Please ensure there are no AOT compilation errors and rerun the migration. The following project failed: src/tsconfig.json

    Error: The Angular Compiler requires TypeScript >=3.6.4 and <3.9.0 but 3.9.7 was found instead.

    Could not migrate all undecorated classes that use dependency
    injection. Some project targets could not be analyzed due to
    TypeScript program failures.

    Migration can be rerun with: "ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di"

  Migration completed.


Your project has been updated to Angular version 9!
For more info, please see: https://v9.angular.io/guide/updating-to-version-9
```
{{</file>}}

TypeScriptã‚’3.8ã«ã—ã¦ã€å¤±æ•—ã®ç¶šãã‹ã‚‰migrationã‚’å†é–‹ã—ã¾ã™ã€‚

```
npm uninstall typescript
npm i typescript@3.8
ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di
```

ä»Šåº¦ã¯`@angular/http`ã‚’æ¶ˆã—ãŸãƒ„ã‚±ãŒ..

```
    Error: error TS100: src\app\app.module.ts(115,9): Error during template compile of 'AppModule'
      Could not resolve @angular/http relative to [object Object]..
```

ã‚¤ãƒ³ãƒãƒ¼ãƒˆå…ƒã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ModuleãŒå¤‰ã‚ã‚Šã¾ã™ã€‚

```diff
- import { HttpModule } from '@angular/http';
+ import { HttpClientModule } from '@angular/common/http';
```

ã“ã‚Œã§ã‚ˆã†ã‚„ãOKï¼

> Your project has now been updated to TypeScript 3.8, read more about new compiler checks and errors that might require you to fix issues in your code in the TypeScript 3.7 or TypeScript 3.8 announcements.

TypeScript3.8ã«ãªã£ãŸã“ã¨ã§ç™ºç”Ÿã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‚¨ãƒ©ãƒ¼ã‚’ç›´ã—ã¾ã™ã€‚  
ä»Šå›ã¯å•é¡Œã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

> Run ng update @angular/material@9.

`angular/material`ã‚’v9ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚

{{<file "ng update @angular/material@9">}}
```
$ ng update @angular/material@9
Your global Angular CLI version (10.1.0) is greater than your local
version (9.1.12). The local Angular CLI version is used.

To disable this warning use "ng config -g cli.warnings.versionMismatch false".
The installed local Angular CLI version is older than the latest stable version.
Installing a temporary version to perform the update.
Installing packages for tooling via npm.
Installed packages for tooling via npm.
Using package manager: 'npm'
Collecting installed dependencies...
Found 68 dependencies.
Fetching dependency metadata from registry...
    Updating package.json with dependency @angular/cdk @ "9.2.4" (was "8.2.3")...
    Updating package.json with dependency @angular/material @ "9.2.4" (was "8.2.3")...
UPDATE package.json (2668 bytes)
âˆš Packages installed successfully.
** Executing migrations of package '@angular/cdk' **

> Updates the Angular CDK to v9
    Could not find TypeScript project for project: hoge-e2e

      âœ“  Updated Angular CDK to version 9

  Migration completed.

** Executing migrations of package '@angular/material' **

> Updates Angular Material to v9
    Could not find TypeScript project for project: hoge-e2e

    âš   General notice: The HammerJS v9 migration for Angular Components is not able to migrate tests. Please manually clean up tests in your project if they rely on HammerJS.
    Read more about migrating tests: https://git.io/ng-material-v9-hammer-migrate-tests

      âœ“  Updated Angular Material to version 9

UPDATE src/app/components/detail-dialog/detail-dialog.component.ts (21145 bytes)
UPDATE src/app/components/summary/summary.component.ts (26541 bytes)
UPDATE src/app/components/dialogs/confirm-dialog/confirm-dialog.component.ts (800 bytes)
UPDATE src/app/components/markdown-inline-editor/markdown-inline-editor.component.ts (4043 bytes)
UPDATE src/app/app.module.ts (7400 bytes)
UPDATE package.json (2642 bytes)
âˆš Packages installed successfully.
  Migration completed.
```
{{</file>}}

ãã®ä»–ã€ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç´°ã‹ã„IFå¤‰æ›´ãªã©ã«å¯¾å¿œã—ã¦ãƒ“ãƒ«ãƒ‰ãŒé€šã‚Šã¾ã—ãŸã€‚


èª¿ã¹ãŸã“ã¨
----------

### ã€Golangã€‘go getã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã§ããªã„

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```
~\work\sandbox\golang â¯ go get -u github.com/spf13/cobra/cobra@v1.0.0                                                                                                              13:18:11
go: cannot use path@version syntax in GOPATH mode
```

GOPATHãƒ¢ãƒ¼ãƒ‰ã§ã¯`path@version`ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚  
MODULEãƒ¢ãƒ¼ãƒ‰ã«ç§»è¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ç’°å¢ƒå¤‰æ•°`GO111Module`ã«`on`ã‚’è¨­å®šã—ã¾ã™ã€‚

PowerShellã®å ´åˆã¯ä»¥ä¸‹ã®è¨­å®šãŒå¿…è¦ã§ã™ã€‚

```
$env:GO111MODULE = "on"
```

### ã€Golangã€‘viperã§ç’°å¢ƒå¤‰æ•°ãŒé©å¿œã•ã‚Œãªã„

`viper.AutomaticEnv()`ã¨`viper.Unmarshal(...)`ã‚’ä½¿ã†å ´åˆã®åˆ¶ç´„ã§ã—ãŸã€‚  
configãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã•ã‚ŒãŸé …ç›®ä»¥å¤–ã®ç’°å¢ƒå¤‰æ•°ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚

ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è€ƒãˆã¾ã™ã€‚

```golang
type Params struct {
	User string
	Password string
}

var params Params

// ...
// ä¸­ç•¥
// ...

func initConfig() {
	viper.AddConfigPath(".")
	viper.SetConfigName(".cobra-use")

	viper.AutomaticEnv()

	if err := viper.ReadInConfig(); err == nil {
		fmt.Println("Using config file:", viper.ConfigFileUsed())
	}

	if err := viper.Unmarshal(&params); err != nil {
		log.Fatal(err)
	}
}
```

ãã—ã¦`.cobra-use.yaml`ã¯`user`ã ã‘ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚

```yaml
user: hoge
```

ã“ã®ã¨ãç’°å¢ƒå¤‰æ•°`PASSWORD`ã«å€¤ã‚’æŒ‡å®šã—ãŸçŠ¶æ…‹ã§å®Ÿè¡Œã—ã¦ã‚‚ã€`params.Password`ã¯è¨­å®šã•ã‚Œã¾ã›ã‚“ã€‚

{{<summary "https://github.com/spf13/viper/issues/584">}}

è‰²ã€…ãƒãƒãƒªãƒã‚¤ãƒ³ãƒˆãŒå¤šã‹ã£ãŸã®ã§ã€æ‰‹å‹•ã§`viper.BindEnv`ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚  
ç’°å¢ƒå¤‰æ•°ã§æŒ‡å®šã—ãŸããªã„è¨­å®šãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã—ã€‚


æ•´å‚™ã—ãŸã“ã¨
------------

### ã€IDEAã€‘Goè¨€èªã®é–‹ç™ºç’°å¢ƒ

IntelliJ IDEAã§Goè¨€èªã‚’é–‹ç™ºã™ã‚‹ç’°å¢ƒã‚’æ•´ãˆã¾ã—ãŸã€‚  
ä»¥å‰ã¯VS Codeã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€æœ€è¿‘ã¯IDEAã‚’æ„›ç”¨ã—ã¦ã„ã‚‹ãŸã‚çµ±ä¸€ã—ã‚ˆã†ã¨æ€ã£ãŸã‹ã‚‰ã§ã™ã€‚

#### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Goãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

{{<summary "https://plugins.jetbrains.com/plugin/9568-go/">}}

#### å‹•ä½œç¢ºèª

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰Goã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚

```
$ cd ~\tmp\gotest
$ go mod init tmp/tadashi-aikawa/gotest
go: creating new go.mod: module tmp/tadashi-aikawa/gotest
```

IntelliJ IDEAã§é–‹ã„ã¦`main.go`ã‚’ä½œæˆã—ã¾ã™ã€‚

{{<himg "resources/cb05c683.png">}}

mainé–¢æ•°ã®æ¨ªã«ã‚ã‚‹å®Ÿè¡Œãƒœã‚¿ãƒ³ã‹ã‚‰å®Ÿè¡Œã—ã¾ã™ã€‚

{{<himg "resources/804091c7.png">}}

çµæœãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OKğŸ‘

#### ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

File Watchersãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã€gofmtã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ã€‚

{{<summary "https://plugins.jetbrains.com/plugin/7177-file-watchers/">}}

ä»¥å‰ã¯Goã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`On Save`ã¨ã„ã†è¨­å®šãŒã‚ã‚Šã€ãã“ã§å®Ÿç¾ã§ããŸã‚ˆã†ã§ã™ã€‚  
ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å‰Šé™¤ã•ã‚Œã€ä»¥é™ã¯File Watchersãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†æµã‚Œã®ã‚ˆã†ã§ã™ã€‚

File Watchersãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã¯gofmtã®ãƒ†ãƒ³ãƒ—ãƒ¬ãŒã‚ã‚Šã¾ã™ã€‚ç´ æ™´ã‚‰ã—ã„ï¼

{{<himg "resources/0336cda9.png">}}

ãƒ†ãƒ³ãƒ—ãƒ¬é€šã‚Šã«è¨­å®šã‚’ä½œæˆã™ã‚Œã°OKã€‚


ä»Šé€±ã®ãƒªãƒªãƒ¼ã‚¹
--------------

ä»Šé€±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
